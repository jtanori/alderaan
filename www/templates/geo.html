<ion-view view-title="Geospatial Data">
    <ion-nav-buttons side="right">
        <a class="button button-icon button-clear ion-refresh" ng-disabled="loading" ng-click="refresh(true)"></a>
        <a class="button button-icon button-clear ion-plus-round" ng-disabled="loading" ng-click="addCountry()"></a>
    </ion-nav-buttons>
    <ion-content delegate-handle="countries-scroll">
        <div class="text-center padding" ng-if="loading"><ion-spinner></ion-spinner><p>Loading...</p></div>
        <div ng-if="!loading && countries.length" class="padding">
            <table id="import-table" class="zebra bordered">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Active</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="country in countries" ng-class="{disabled: record.saving}">
                        <td>{{country.countryCode}}</td>
                        <td>{{country.displayName}}</td>
                        <td>{{country.active}}</td>
                        <td>
                            <a type="button" class="button button-small button-positive" href="#/country/{{country.objectId}}">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-if="!loading && !countries.length" class="padding">
          <div id="import-drop" class="text-center" ng-if="!records.length">
              <div ng-if="!records.length">
                  <div class="button button-positive" ngf-select="upload($files)" ngf-accept="['text/*','text/csv']" ngf-multiple="false">Import Countries</div>
                  <p>Import initial countries CSV</p>
              </div>
          </div>
        </div>
    </ion-content>
</ion-view>
