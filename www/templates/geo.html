<ion-view view-title="Geospatial Data">
    <ion-nav-buttons side="right">
        <a class="button button-icon button-clear ion-refresh" ng-disabled="loading" ng-click="refresh(true)"></a>
        <a class="button button-icon button-clear ion-plus-round" ng-disabled="loading" ng-click="addCountry()"></a>
    </ion-nav-buttons>
    <ion-content>
        <div class="text-center padding" ng-if="loading"><ion-spinner></ion-spinner><p>Loading...</p></div>
        <div ng-if="!loading" class="padding">
            <table id="import-table" class="zebra bordered">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Abbreviation</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="country in countries" ng-class="{disabled: record.saving}">
                        <td>{{country.code}}</td>
                        <td>{{country.name}}</td>
                        <td>{{country.abbr}}</td>
                        <td>
                            <a type="button" class="button button-small button-positive" href="#/country/{{country.objectId}}">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </ion-content>
</ion-view>
